<div layout="column" class="parent-size">
    <div ng-include="'app/commons/navbar.html'" onload="active='statistics'"></div>

    <div layout="column" class="parent-size background-dark">
        <div class="width-30 margin-lr-auto margin-top-20-px">
            <radio-button-group selected-button="secondaryMenuSelectedValue"
                handle-button="handleSecondaryMenuClick(buttonValue) " ng-model="secondaryMenuSelectedValue"
                buttons="secondaryMenuButtons" radio-buttons-class="'md-button border-1'">
        </div>
        <div layout="column">
            <div layout="row" class="width-100">
                <div class="width-25">
                    <div class="float-left margin-left-20px margin-top-20-px">
                        <img src="../../app/img/countries/outlines/{{selectedCountry.left.visName}}.svg"
                            class="height-300-px width-300-px">
                        <div class="color-white margin-top-20-px font-size-x-large text-center">
                            {{selectedCountry.left.visName}}</div>
                        <div
                            class="color-white border-radius-10px background-darkgray width-80 margin-auto font-size-small text-center padding-10-px margin-top-10-px">
                            <div layout="column" class="width-100">
                                <div layout="row" class="width-100">
                                    <div class="width-45-px text-right">Send</div>
                                    <div class="color-green width-80-px">
                                        {{leftSendToRight}}</div>
                                    <div class="width-30-px text-left margin-right-10-px">to</div>
                                    <div class="color-darkcyan">
                                        {{selectedCountry.right.visName}}</div>
                                </div>
                                <div layout="row">
                                    <div class="width-45-px">Receive</div>
                                    <div class="color-red width-80-px">
                                        {{rightSendToLeft}}</div>
                                    <div class="width-30-px margin-right-10-px">from</div>
                                    <div class="color-darkcyan">
                                        {{selectedCountry.right.visName}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div layout="column" class="width-50">
                    <div layout="row" class="width-50 margin-lr-auto">
                        <div class="compare-search-container width-50">
                            <md-input-container id="compare-selector-right" class="width-90 display-block margin-auto">
                                <label>Select country...</label>
                                <md-select ng-model="selectedCountry.left" ng-change="updateStatisticsLeft()"
                                    md-on-close="clearSearch()">
                                    <md-select-header class="select-header-search-box background-white zindex-100">
                                        <input ng-model="searchSource" aria-label="Source filter" type="search"
                                            placeholder="Search a country..."
                                            class="header-search-box md-text padding-left-10px"
                                            ng-keydown="updateSearch($event)" />
                                    </md-select-header>
                                    <md-option ng-value="country"
                                        ng-repeat="country in countries | filter: searchSource"
                                        ng-class="{'margin-top-50-px' : $first}">
                                        {{country.visName}}</md-option>
                                </md-select>
                            </md-input-container>
                        </div>

                        <div class="compare-search-container width-50">
                            <md-input-container id="compare-selector-left" class="width-90 display-block margin-auto">
                                <label>Select country...</label>
                                <md-select ng-model="selectedCountry.right" ng-change="updateStatisticsRight()"
                                    md-on-close="clearSearch()">
                                    <md-select-header class="select-header-search-box background-white zindex-100">
                                        <input ng-model="searchSource" aria-label="Source filter" type="search"
                                            placeholder="Search a country..."
                                            class="header-search-box md-text padding-left-10px"
                                            ng-keydown="updateSearch($event)" />
                                    </md-select-header>
                                    <md-option ng-value="country"
                                        ng-repeat="country in countries | filter: searchSource"
                                        ng-class="{'margin-top-50-px' : $first}">
                                        {{country.visName}}</md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                    </div>
                    <div class="width-50 margin-auto margin-top-40-px height-5">
                        <radio-button-group selected-button="genreFilterValue"
                            handle-button="handleGenreClick(buttonValue) " ng-model="genreFilterValue"
                            buttons="genreButtons" radio-buttons-class="'md-button border-1'">
                    </div>
                    <div class="margin-lr-20-px margin-top-40-px">
                        <div class="width-340-px margin-auto">
                            <div layout="row">
                                <div class="float-left box-shadow-dark-gray margin-right-25-px"><img
                                        class="country-image-thumbnail" src="{{selectedCountry.left.flagPath}}">
                                </div>
                                <radio-button-group id="compare-info-group" selected-button="countryInfoValue"
                                    handle-button="handleCountryInfoClick(buttonValue)" ng-model="countryInfoValue"
                                    buttons="countryInfoTypeButtons" radio-buttons-class="'md-button border-1'">
                                </radio-button-group>

                                <div class="float-right box-shadow-dark-gray margin-left-25-px"><img
                                        class="country-image-thumbnail" src="{{selectedCountry.right.flagPath}}">
                                </div>
                            </div>
                        </div>
                        <div layout="row" class="margin-auto">
                            <div layout="column" class="margin-auto">
                                <div layout="row">
                                    <div class="color-white margin-top-20-px margin-right-50-px">
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('totalImmigrationsGlobalRank', true) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryLeftStatisticsValues.totalImmigrationsGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('totalImmigrations', true) ? 'color-green' : 'color-red'">
                                                {{countryLeftStatisticsValues.totalImmigrations}}
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('totalPopulationGlobalRank', true) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryLeftStatisticsValues.totalPopulationGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('totalPopulation', true) ? 'color-green' : 'color-red'">
                                                {{countryLeftStatisticsValues.totalPopulation}}
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationVsPopulationGlobalRank', true) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryLeftStatisticsValues.immigrationVsPopulationGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationVsPopulation', true) ? 'color-green' : 'color-red'">
                                                {{countryLeftStatisticsValues.immigrationVsPopulation}} %
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationAverageAgeGlobalRank', true) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryLeftStatisticsValues.immigrationAverageAgeGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationAverageAge', true) ? 'color-green' : 'color-red'">
                                                {{countryLeftStatisticsValues.immigrationAverageAge}} years
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('refugeeVsImmigrationGlobalRank', true) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryLeftStatisticsValues.refugeeVsImmigrationGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('refugeeVsImmigration', true) ? 'color-green' : 'color-red'">
                                                {{countryLeftStatisticsValues.refugeeVsImmigration}} %
                                            </span>
                                        </div>
                                    </div>
                                    <div layout="column" class="color-white margin-top-20-px">
                                        <div class="margin-auto padding-top-bottom-5px"><span
                                                class="font-size-small">Total
                                                immigration</span>
                                        </div>
                                        <div class="margin-auto padding-top-bottom-5px"><span
                                                class="font-size-small">Total
                                                population</span>
                                        </div>
                                        <div class="margin-auto padding-top-bottom-5px"><span
                                                class="font-size-small">Immigration
                                                vs.
                                                Population</span>
                                        </div>
                                        <div class="margin-auto padding-top-bottom-5px"><span
                                                class="font-size-small">Immigrants
                                                average
                                                age</span>
                                        </div>
                                        <div class="margin-auto padding-top-bottom-5px"><span
                                                class="float-left font-size-small">Refugees
                                                vs.
                                                Immigrants</span>
                                        </div>
                                    </div>
                                    <div class="color-white margin-top-20-px margin-left-50-px">
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('totalImmigrationsGlobalRank', false) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryRightStatisticsValues.totalImmigrationsGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('totalImmigrations', false) ? 'color-green' : 'color-red'">
                                                {{countryRightStatisticsValues.totalImmigrations}}
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('totalPopulationGlobalRank', false) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryRightStatisticsValues.totalPopulationGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('totalPopulation', false) ? 'color-green' : 'color-red'">
                                                {{countryRightStatisticsValues.totalPopulation}}
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationVsPopulationGlobalRank', false) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryRightStatisticsValues.immigrationVsPopulationGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationVsPopulation', false) ? 'color-green' : 'color-red'">
                                                {{countryRightStatisticsValues.immigrationVsPopulation}} %
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationAverageAgeGlobalRank', false) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryRightStatisticsValues.immigrationAverageAgeGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('immigrationAverageAge', false) ? 'color-green' : 'color-red'">
                                                {{countryRightStatisticsValues.immigrationAverageAge}} years
                                            </span>
                                        </div>
                                        <div class="width-100 padding-top-bottom-5px">
                                            <span ng-if="countryInfoValue === 'global_rank'" class="font-size-small"
                                                ng-class="comparisonWinner('refugeeVsImmigrationGlobalRank', false) ? 'color-green' : 'color-red'">
                                                {{globalRankCountryRightStatisticsValues.refugeeVsImmigrationGlobalRank}}
                                            </span>
                                            <span ng-if="countryInfoValue === 'value'" class="font-size-small"
                                                ng-class="comparisonWinner('refugeeVsImmigration', false) ? 'color-green' : 'color-red'">
                                                {{countryRightStatisticsValues.refugeeVsImmigration}} %
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- <div class="vertical-line height-95 margin-top-20-px"></div> -->
                <div layout="column" class="width-25">
                    <div class="width-100">

                        <div class="float-right margin-top-20-px margin-right-50-px">
                            <img src="../../app/img/countries/outlines/{{selectedCountry.right.visName}}.svg"
                                class="height-300-px width-300-px">
                            <div class="color-white margin-top-20-px font-size-x-large text-center">
                                {{selectedCountry.right.visName}}</div>
                            <div
                                class="color-white border-radius-10px background-darkgray width-80 margin-auto font-size-small text-center padding-10-px margin-top-10-px">
                                <div layout="column" class="width-100">
                                    <div layout="row" class="width-100">
                                        <div class="width-45-px text-right">Send</div>
                                        <div class="color-green width-80-px">
                                            {{rightSendToLeft}}</div>
                                        <div class="width-30-px text-left margin-right-10-px">to</div>
                                        <div class="color-darkcyan">
                                            {{selectedCountry.left.visName}}</div>
                                    </div>
                                    <div layout="row">
                                        <div class="width-45-px">Receive</div>
                                        <div class="color-red width-80-px">
                                            {{leftSendToRight}}</div>
                                        <div class="width-30-px margin-right-10-px">from</div>
                                        <div class="color-darkcyan">
                                            {{selectedCountry.left.visName}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </civ>
                    </div>
                </div>
            </div>
            <div layout="row">
                <div layout="column" class="width-50 height-100">
                    <div class="margin-lr-40-px margin-top-100-px height-100">
                        <div class="color-orange padding-10-px">Common Migration Regions</div>
                        <div id="common-migration">
                        </div>
                        <div class="color-white margin-top-10-px font-size-small" layout="row">
                            <div><span class="color-darkcyan">L. A. C</span> - Latin America and the Caribbean</div>
                            <div class="margin-left-20px"><span class="color-darkcyan">N. A.</span> - Northern
                                America</div>
                        </div>
                    </div>
                </div>
                <div layout="column" class="width-50">
                    <div class="margin-lr-40-px margin-top-100-px height-100">
                        <div class="color-orange padding-10-px">Annual Rate of Change</div>
                        <div id="change-rate-container" class="height-100"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- end map container-->
</div>
