<div layout="column" class="parent-size">
    <div ng-include="'app/commons/navbar.html'" onload="active='statistics'"></div>

    <div layout="column" class="parent-size background-dark">
        <div class="width-30 margin-auto margin-top-20-px height-5">
            <radio-button-group selected-button="secondaryMenuSelectedValue"
                handle-button="handleSecondaryMenuClick(buttonValue) " ng-model="secondaryMenuSelectedValue"
                buttons="secondaryMenuButtons" radio-buttons-class="'md-button border-1'">
        </div>
        <div layout="row" class="height-95">
            <div layout="column" class="margin-left-20px width-15 min-width-200-px max-width-500-px">
                <div class="country-search-container width-100 margin-top-40-px">
                    <md-input-container id="compare-selector-right" class="width-100 display-block margin-none">
                        <label>Select country...</label>
                        <md-select ng-model="selectedCountryController" md-on-close="clearSearch()"
                            ng-change="updateStatistics()">
                            <md-select-header class="select-header-search-box background-white zindex-100">
                                <input ng-model="searchSource" aria-label="Source filter" type="search"
                                    placeholder="Search a country..."
                                    class="header-search-box md-text padding-left-10px"
                                    ng-keydown="updateSearch($event)" />
                            </md-select-header>
                            <md-option ng-value="country" ng-repeat="country in countries | filter: searchSource"
                                ng-class="{'margin-top-50-px' : $first}">
                                {{country.visName}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>

                <div class="margin-top-60-px">
                    <radio-button-group selected-button="genreFilterValue" handle-button="handleGenreClick(buttonValue)"
                        ng-model="genreFilterValue" buttons="genreButtons" radio-buttons-class="'md-button border-1'">
                    </radio-button-group>
                </div>

                <div class="width-100 margin-top-40-px color-white"><label class="font-size-medium">Restrict time
                        span</label></div>
                <div id="country-slider" class="width-100">
                    <rzslider rz-slider-model="sliderCountry.minValue" rz-slider-high="sliderCountry.maxValue"
                        rz-slider-options="sliderCountry.options"></rzslider>
                </div>
                <div class="margin-top-100-px font-size-small color-white text-justify">
                    Width <span class="color-darkcyan">Migratory pattern by development</span> we intend the percentage
                    of the persons from this country that have migrated in countries...
                </div>
                <hr class="menu-divider width-100" />
                <div class="font-size-small color-white text-justify">
                    Width <span class="color-darkcyan">Migratory pattern by income</span> we intend the percentage
                    of the persons from this country that have migrated in countries...
                </div>
            </div>
            <div layout="column" class="width-60 padding-left-20px">
                <div layout="row" class="width-100 height-50 color-white margin-top-40-px">
                    <div id="development-piechart" class="width-50 height-90">
                        <civ class="display-block text-center text-bold">Migratory pattern by development</civ>
                    </div>
                    <div id="income-piechart" class="width-50 height-100">

                        <civ class="display-block text-center text-bold">Migratory pattern by income</civ>
                    </div>
                </div>
                <div layout="row" class="width-100 height-50">
                    <div id ="roc-linechart-container" class="width-50 height-100">
                    </div>
                    <div layout="column" class="width-50 height-100">
                        <div id="age-stacked-barchart-label" class="width-100 height-5 color-white margin-top-40-px text-center text-bold">Immigration by Age groups</div>
                        <div id="age-stacked-barchart" class="width-100 height-95"></div>
                    </div>
                </div>
            </div>
            <div layout="column" class="width-25">
                <div class="margin-top-60-px width-100">
                    <img class="display-block height-200-px width-200-px margin-lr-auto"
                        src="../../app/img/countries/outlines/{{selectedCountryController.visName}}.svg" />
                </div>
                <div layout="row">
                    <div class="box-shadow-dark-gray country-image-thumbnail"><img class="country-image-thumbnail"
                            src="{{selectedCountryController.flagPath}}">
                    </div>
                    <h1 class="color-white font-size-large margin-right-auto">{{selectedCountryController.visName}}</h1>
                </div>
                <div class="width-90 margin-auto color-white" layout="row">
                    <div class="width-50" layout="column">
                        <div
                            class="text-center font-size-small border-left-radius-5-px b padding-5-px background-darkgray border-right-1-gray">
                            Continent</div>
                        <div class="text-center font-size-medium margin-top-10-px color-darkcyan">
                            {{selectedCountryController.continent}}</div>
                    </div>
                    <div class="width-50">
                        <div
                            class="text-center font-size-small border-right-radius-5-px padding-5-px background-darkgray">
                            Region</div>
                        <div class="text-center font-size-medium margin-top-10-px color-darkcyan">
                            {{selectedCountryController.region}}
                        </div>
                    </div>
                </div>
                <div class="margin-left-20px margin-right-40-px margin-top-100-px min-width-200-px max-width-700-px">
                    <radio-button-group selected-button="countryInfoValue"
                        handle-button="handleCountryInfoClick(buttonValue)" ng-model="countryInfoValue"
                        buttons="countryInfoTypeButtons" radio-buttons-class="'md-button border-1'">
                    </radio-button-group>
                    <div layout="column" class="color-white margin-top-40-px width-100">
                        <div class="width-100 padding-top-bottom-10px"><span class="float-left font-size-small">Total
                                immigration</span>
                            <span ng-if="countryInfoValue === 'global_rank'" class="float-right font-size-small">
                                {{globalRankCountryStatisticsValues.totalImmigrationsGlobalRank}}
                            </span>
                            <span ng-if="countryInfoValue === 'value'" class="float-right font-size-small">
                                {{countryStatisticsValues.totalImmigrations}}
                            </span>
                        </div>
                        <div class="width-100 padding-top-bottom-10px"><span class="float-left font-size-small">Total
                                population</span>
                            <span ng-if="countryInfoValue === 'global_rank'" class="float-right font-size-small">
                                {{globalRankCountryStatisticsValues.totalPopulationGlobalRank}}
                            </span>
                            <span ng-if="countryInfoValue === 'value'" class="float-right font-size-small">
                                {{countryStatisticsValues.totalPopulation}}
                            </span>
                        </div>
                        <div class="width-100 padding-top-bottom-10px"><span
                                class="float-left font-size-small">Immigration vs.
                                Population</span>
                            <span ng-if="countryInfoValue === 'global_rank'" class="float-right font-size-small">
                                {{globalRankCountryStatisticsValues.immigrationVsPopulationGlobalRank}}
                            </span>
                            <span ng-if="countryInfoValue === 'value'" class="float-right font-size-small">
                                {{countryStatisticsValues.immigrationVsPopulation}} %
                            </span>
                        </div>
                        <div class="width-100 padding-top-bottom-10px"><span
                                class="float-left font-size-small">Immigrants average
                                age</span>
                            <span ng-if="countryInfoValue === 'global_rank'" class="float-right font-size-small">
                                {{globalRankCountryStatisticsValues.immigrationAverageAgeGlobalRank}}
                            </span>
                            <span ng-if="countryInfoValue === 'value'" class="float-right font-size-small">
                                {{countryStatisticsValues.immigrationAverageAge}} years
                            </span>
                        </div>
                        <div class="width-100 padding-top-bottom-10px"><span class="float-left font-size-small">Refugees
                                vs.
                                Immigrants</span>
                            <span ng-if="countryInfoValue === 'global_rank'" class="float-right font-size-small">
                                {{globalRankCountryStatisticsValues.refugeeVsImmigrationGlobalRank}}
                            </span>
                            <span ng-if="countryInfoValue === 'value'" class="float-right font-size-small">
                                {{countryStatisticsValues.refugeeVsImmigration}} %
                            </span>
                        </div>
                    </div>
                </div>
                <div layout="column"
                    class="margin-auto margin-top-60-px margin-bottom-50-px min-width-200-px max-width-700-px">
                    <div
                        class="color-white margin-bottom-10-px font-size-small background-darkgray padding-10-px width-90 text-justify">
                        Ranking of the top 5 countries from
                        which migrants <span class="color-green">arrive</span> into the selected country, and to which
                        the selected country <span class="color-red">sends</span> migrants </div>
                    <div class="width-90">
                        <top-countries handle-button="handleTopCountryClick(flagValue, 'in')"
                            ng-model="selectedTopCountryValue" countries="top5InwardCountries"
                            show-hint="showTopCountryHint(flagValue, event, 'Send')"
                            hide-hint="hideTopCountryHint(event, 'in')"
                            top-countries-icon-path="'app/img/home/inward.png'">
                        </top-countries>
                        <hr class="menu-divider" />
                        <top-countries handle-button="handleTopCountryClick(flagValue, 'out')"
                            ng-model="selectedTopCountryValue" countries="top5OutwardCountries"
                            show-hint="showTopCountryHint(flagValue, event, 'Receive')"
                            hide-hint="hideTopCountryHint('in')" top-countries-icon-path="'app/img/home/outward.png'">
                        </top-countries>
                    </div>
                </div>
                <div id="top-flags-tooltip" class="display-none display-block">
                    <div class="width-150-px">
                        <div class="color-darkcyan">{{selectedTopFlag[0].visName}}</div>
                        <hr class="menu-divider background-darkcyan margin-top-10-px margin-bottom-10-px width-100" />
                        <div class="font-size-small">{{sendReceiveTopCountries}} <span id="tooltip-text"
                                class="margin-top-10-px">{{selectedTopFlag[1]}}</span>
                            people {{sendReceiveTopCountries == "Send" ? 'to' : 'from'}}
                            {{selectedCountryController.visName}}</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
